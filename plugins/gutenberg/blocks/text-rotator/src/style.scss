/**
 * Text Rotator Block - Frontend Styles
 *
 * @package wbcom-essential
 */

.wbcom-essential-text-rotator {
	// Default color fallbacks (used when custom colors applied via inline styles)
	--text-color: inherit;
	--rotating-color: #3182ce;
	--rotating-bg: transparent;
	--prefix-color: inherit;
	--suffix-color: inherit;

	/**
	 * Theme Colors Mode
	 * Maps theme CSS variables to block-specific variables.
	 */
	&.use-theme-colors {
		--text-color: var(--wbcom-heading-color, var(--wbcom-color-contrast, inherit));
		--rotating-color: var(--wbcom-color-primary, #3182ce);
		--rotating-bg: transparent;
		--prefix-color: var(--wbcom-text-color, var(--wbcom-color-contrast-2, inherit));
		--suffix-color: var(--wbcom-text-color, var(--wbcom-color-contrast-2, inherit));
	}
}

.wbcom-text-rotator-wrapper {
	display: block;
	color: var(--text-color);
	margin: 0;
}

.wbcom-text-rotator-prefix {
	color: var(--prefix-color);
}

.wbcom-text-rotator-suffix {
	color: var(--suffix-color);
}

.wbcom-text-rotator-rotating {
	display: inline-block;
	color: var(--rotating-color);
	background-color: var(--rotating-bg);
	padding: 0 0.2em;
	position: relative;
	min-width: 1em;
}

// Animation: Fade In
.wbcom-animation-fadeIn {
	&.wbcom-animating {
		animation: wbcom-fadeIn 0.5s ease-in-out;
	}
}

@keyframes wbcom-fadeIn {
	0% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}

// Animation: Slide Up
.wbcom-animation-slideUp {
	overflow: hidden;
	vertical-align: bottom;

	&.wbcom-animating {
		animation: wbcom-slideUp 0.5s ease-out;
	}
}

@keyframes wbcom-slideUp {
	0% {
		opacity: 0;
		transform: translateY(100%);
	}
	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

// Animation: Slide Down
.wbcom-animation-slideDown {
	overflow: hidden;
	vertical-align: top;

	&.wbcom-animating {
		animation: wbcom-slideDown 0.5s ease-out;
	}
}

@keyframes wbcom-slideDown {
	0% {
		opacity: 0;
		transform: translateY(-100%);
	}
	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

// Animation: Zoom In
.wbcom-animation-zoomIn {
	&.wbcom-animating {
		animation: wbcom-zoomIn 0.5s ease-out;
	}
}

@keyframes wbcom-zoomIn {
	0% {
		opacity: 0;
		transform: scale(0.5);
	}
	100% {
		opacity: 1;
		transform: scale(1);
	}
}

// Animation: Flip
.wbcom-animation-flip {
	perspective: 300px;

	&.wbcom-animating {
		animation: wbcom-flip 0.5s ease-out;
	}
}

@keyframes wbcom-flip {
	0% {
		opacity: 0;
		transform: rotateX(90deg);
	}
	100% {
		opacity: 1;
		transform: rotateX(0);
	}
}

// Animation: Slide Left
.wbcom-animation-slideLeft {
	overflow: hidden;

	&.wbcom-animating {
		animation: wbcom-slideLeft 0.5s ease-out;
	}
}

@keyframes wbcom-slideLeft {
	0% {
		opacity: 0;
		transform: translateX(100%);
	}
	100% {
		opacity: 1;
		transform: translateX(0);
	}
}

// Animation: Slide Right
.wbcom-animation-slideRight {
	overflow: hidden;

	&.wbcom-animating {
		animation: wbcom-slideRight 0.5s ease-out;
	}
}

@keyframes wbcom-slideRight {
	0% {
		opacity: 0;
		transform: translateX(-100%);
	}
	100% {
		opacity: 1;
		transform: translateX(0);
	}
}

// Animation: Zoom Out
.wbcom-animation-zoomOut {
	&.wbcom-animating {
		animation: wbcom-zoomOut 0.5s ease-out;
	}
}

@keyframes wbcom-zoomOut {
	0% {
		opacity: 0;
		transform: scale(1.5);
	}
	100% {
		opacity: 1;
		transform: scale(1);
	}
}

// Animation: Bounce
.wbcom-animation-bounce {
	&.wbcom-animating {
		animation: wbcom-bounce 0.6s ease-out;
	}
}

@keyframes wbcom-bounce {
	0% {
		opacity: 0;
		transform: scale(0.3);
	}
	50% {
		opacity: 1;
		transform: scale(1.1);
	}
	70% {
		transform: scale(0.9);
	}
	100% {
		transform: scale(1);
	}
}

// Animation: Typing
.wbcom-animation-typing {
	white-space: nowrap;
	overflow: hidden;
	position: relative;

	&::after {
		content: attr(data-cursor);
		position: absolute;
		margin-left: 2px;
		animation: wbcom-blink 0.7s step-end infinite;
	}

	&.wbcom-typing-no-cursor::after {
		display: none;
	}
}

@keyframes wbcom-blink {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
}

// Responsive adjustments
@media (max-width: 768px) {
	.wbcom-text-rotator-wrapper {
		word-break: break-word;
	}
}
