/**
 * Shape Block - Frontend Styles
 *
 * @package wbcom-essential
 */

.wbcom-essential-shape {
	// Layout
	--shape-width: 200px;
	--shape-height: 200px;
	--shape-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
	--shape-rotation: 0deg;
	--shape-icon-size: 48px;
	--shape-icon-rotation: 0deg;
	--shape-align: center;
	// Colors - inherit from theme via bridge variables (theme-colors.css)
	--shape-background: var(--wbcom-color-primary, #3182ce);
	--shape-icon-color: var(--wbcom-button-text, #ffffff);
	// Border & Shadow defaults
	--shape-border: none;
	--shape-box-shadow: none;
	// SVG dimensions
	--shape-svg-width: auto;
	--shape-svg-height: auto;
	// Icon background
	--shape-icon-bg: transparent;
	--shape-icon-bg-size: 80px;
	--shape-icon-bg-radius: 50%;

	/**
	 * Theme Colors Mode
	 * When enabled, all colors inherit from the theme's CSS custom properties.
	 * This overrides any custom inline color values set by the user.
	 */
	&.use-theme-colors {
		--shape-background: var(--wbcom-color-primary, #3182ce);
		--shape-icon-color: var(--wbcom-button-text, #ffffff);
		--shape-border: none;
		--shape-box-shadow: none;
		--shape-icon-bg: var(--wbcom-color-primary-dark, rgba(0, 0, 0, 0.1));
	}
}

.wbcom-shape-wrapper {
	display: flex;
	justify-content: var(--shape-align);
}

.wbcom-shape {
	position: relative;
	width: var(--shape-width);
	height: var(--shape-height);
	background: var(--shape-background);
	border-radius: var(--shape-radius);
	transform: rotate(var(--shape-rotation));
	display: flex;
	align-items: center;
	justify-content: center;
	transition: transform 0.3s ease, box-shadow 0.3s ease, border 0.3s ease;
	border: var(--shape-border);
	box-shadow: var(--shape-box-shadow);
}

// Icon styling
.wbcom-shape-icon {
	color: var(--shape-icon-color);
	font-size: var(--shape-icon-size);
	width: var(--shape-icon-size);
	height: var(--shape-icon-size);
	transform: rotate(var(--shape-icon-rotation));
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 1;

	// SVG specific dimensions override
	svg {
		width: var(--shape-svg-width);
		height: var(--shape-svg-height);
		fill: var(--shape-icon-color);
	}
}

// Icon background wrapper
.wbcom-shape-icon-wrapper {
	display: flex;
	align-items: center;
	justify-content: center;
	width: var(--shape-icon-bg-size);
	height: var(--shape-icon-bg-size);
	background-color: var(--shape-icon-bg);
	border-radius: var(--shape-icon-bg-radius);
	z-index: 1;
}

// Link overlay
.wbcom-shape-link {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	z-index: 2;
}

// ============================================
// Hover Animations
// ============================================

// Grow
.wbcom-shape-animation-grow {
	&:hover {
		transform: rotate(var(--shape-rotation)) scale(1.1);
	}
}

// Shrink
.wbcom-shape-animation-shrink {
	&:hover {
		transform: rotate(var(--shape-rotation)) scale(0.9);
	}
}

// Pulse
.wbcom-shape-animation-pulse {
	&:hover {
		animation: wbcom-shape-pulse 1s ease infinite;
	}
}

@keyframes wbcom-shape-pulse {
	0% {
		transform: rotate(var(--shape-rotation)) scale(1);
	}
	50% {
		transform: rotate(var(--shape-rotation)) scale(1.1);
	}
	100% {
		transform: rotate(var(--shape-rotation)) scale(1);
	}
}

// Float
.wbcom-shape-animation-float {
	&:hover {
		animation: wbcom-shape-float 2s ease-in-out infinite;
	}
}

@keyframes wbcom-shape-float {
	0% {
		transform: rotate(var(--shape-rotation)) translateY(0);
	}
	50% {
		transform: rotate(var(--shape-rotation)) translateY(-10px);
	}
	100% {
		transform: rotate(var(--shape-rotation)) translateY(0);
	}
}

// Bob
.wbcom-shape-animation-bob {
	&:hover {
		animation: wbcom-shape-bob 0.5s ease infinite;
	}
}

@keyframes wbcom-shape-bob {
	0%,
	100% {
		transform: rotate(var(--shape-rotation)) translateY(0);
	}
	25% {
		transform: rotate(var(--shape-rotation)) translateY(-5px);
	}
	75% {
		transform: rotate(var(--shape-rotation)) translateY(5px);
	}
}

// Rotate
.wbcom-shape-animation-rotate {
	&:hover {
		animation: wbcom-shape-rotate 2s linear infinite;
	}
}

@keyframes wbcom-shape-rotate {
	from {
		transform: rotate(var(--shape-rotation));
	}
	to {
		transform: rotate(calc(var(--shape-rotation) + 360deg));
	}
}

// ============================================
// Responsive
// ============================================
@media (max-width: 600px) {
	.wbcom-shape {
		max-width: 100%;
	}
}
