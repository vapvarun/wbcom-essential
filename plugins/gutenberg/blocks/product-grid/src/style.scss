/**
 * Product Grid Block - Frontend Styles
 */
.wbcom-essential-product-grid {
	// Layout variables (always set via inline styles).
	--product-columns: 4;
	--product-gap: 24px;
	--card-border-radius: 8px;
	--image-ratio: 1;

	// Color variables - static defaults (overridden by inline styles in custom color mode).
	--card-bg-color: #fff;
	--title-color: inherit;
	--price-color: inherit;
	--sale-badge-color: #fff;
	--sale-badge-bg-color: #e53935;
	--button-bg: #333;
	--button-color: #fff;
	--button-hover-bg: #555;
	--sale-price-color: #e53935;

	/**
	 * Theme Colors Mode
	 * Maps theme CSS variables to block-specific variables.
	 */
	&.use-theme-colors {
		--card-bg-color: var(--wbcom-card-bg, var(--wbcom-color-base, #fff));
		--title-color: var(--wbcom-heading-color, var(--wbcom-color-contrast, inherit));
		--price-color: var(--wbcom-text-color, var(--wbcom-color-contrast-2, inherit));
		--sale-badge-color: var(--wbcom-button-text, var(--wbcom-color-base, #fff));
		--sale-badge-bg-color: var(--wbcom-color-primary, #e53935);
		--button-bg: var(--wbcom-button-bg, var(--wbcom-color-contrast, #333));
		--button-color: var(--wbcom-button-text, var(--wbcom-color-base, #fff));
		--button-hover-bg: var(--wbcom-button-hover-bg, var(--wbcom-color-primary, #555));
		--sale-price-color: var(--wbcom-color-primary, #e53935);
	}

	&__items {
		display: grid;
		grid-template-columns: repeat(var(--product-columns), 1fr);
		gap: var(--product-gap);
	}

	&__item {
		width: 100%;
	}

	&__card {
		background: var(--card-bg-color);
		border-radius: var(--card-border-radius);
		overflow: hidden;
		height: 100%;
		display: flex;
		flex-direction: column;
		transition: box-shadow 0.3s ease, transform 0.3s ease;

		&:hover {
			box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
			transform: translateY(-4px);
		}
	}

	&__image {
		position: relative;
		overflow: hidden;

		a {
			display: block;
		}

		img {
			width: 100%;
			height: auto;
			aspect-ratio: var(--image-ratio);
			object-fit: cover;
			transition: transform 0.3s ease;
		}

		&:hover img {
			transform: scale(1.05);
		}
	}

	&__sale-badge {
		position: absolute;
		top: 12px;
		left: 12px;
		background: var(--sale-badge-bg-color);
		color: var(--sale-badge-color);
		padding: 4px 12px;
		border-radius: 4px;
		font-size: 12px;
		font-weight: 600;
		text-transform: uppercase;
		letter-spacing: 0.5px;
	}

	&__content {
		padding: 16px;
		flex: 1;
		display: flex;
		flex-direction: column;
	}

	&__title {
		margin: 0 0 8px;
		font-size: 16px;
		font-weight: 600;
		line-height: 1.4;

		a {
			color: var(--title-color);
			text-decoration: none;
			transition: color 0.2s ease;

			&:hover {
				opacity: 0.8;
			}
		}
	}

	&__rating {
		margin-bottom: 8px;

		.star-rating {
			font-size: 14px;
		}
	}

	&__price {
		color: var(--price-color);
		font-size: 18px;
		font-weight: 700;
		margin-bottom: 16px;

		del {
			color: #999;
			font-size: 14px;
			font-weight: 400;
			margin-right: 8px;
		}

		ins {
			text-decoration: none;
			color: var(--sale-price-color);
		}
	}

	&__actions {
		margin-top: auto;

		.button,
		.add_to_cart_button {
			display: inline-block;
			width: 100%;
			padding: 12px 20px;
			background: var(--button-bg);
			color: var(--button-color);
			text-align: center;
			border: none;
			border-radius: 4px;
			font-size: 14px;
			font-weight: 600;
			cursor: pointer;
			transition: background-color 0.3s ease;
			text-decoration: none;

			&:hover {
				background: var(--button-hover-bg);
			}

			&.added {
				background: #4caf50;

				&::after {
					content: "\2713";
					margin-left: 8px;
				}
			}

			&.loading {
				opacity: 0.7;
				pointer-events: none;
			}
		}
	}

	// Responsive
	@media (max-width: 1024px) {
		&__items {
			grid-template-columns: repeat(3, 1fr);
		}
	}

	@media (max-width: 768px) {
		&__items {
			grid-template-columns: repeat(2, 1fr);
		}

		&__title {
			font-size: 14px;
		}

		&__price {
			font-size: 16px;
		}
	}

	@media (max-width: 480px) {
		&__items {
			grid-template-columns: 1fr;
		}
	}
}
