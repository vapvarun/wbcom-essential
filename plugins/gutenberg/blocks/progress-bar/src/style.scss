/**
 * Progress Bar Block - Frontend Styles
 *
 * @package wbcom-essential
 */

.wbcom-essential-progress-bar {
	// Layout
	--bar-height: 20px;
	--bar-radius: 4px;
	// Colors - inherit from theme via bridge variables (theme-colors.css)
	--title-color: var(--wbcom-heading-color, inherit);
	--percent-color: var(--wbcom-heading-color, inherit);
	--bar-bg: var(--wbcom-border-color, #e2e8f0);
	--fill-bg: var(--wbcom-color-primary, #3182ce);
	--fill-text: var(--wbcom-button-text, #ffffff);

	margin-bottom: 1.5rem;

	.wbcom-progress-bar-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 8px;
	}

	.wbcom-progress-bar-title {
		font-size: 1rem;
		font-weight: 600;
		color: var(--title-color);
	}

	.wbcom-progress-bar-percent-out {
		font-size: 1rem;
		font-weight: 700;
		color: var(--percent-color);
	}

	.wbcom-progress-bar-wrapper {
		position: relative;
		overflow: hidden;
		background: var(--bar-bg);
		border-radius: var(--bar-radius);
		height: var(--bar-height);
	}

	.wbcom-progress-bar-fill {
		position: relative;
		height: 100%;
		display: flex;
		align-items: center;
		justify-content: flex-end;
		padding-right: 8px;
		box-sizing: border-box;

		// Stripes pattern
		&.has-stripes {
			background-image: linear-gradient(
				45deg,
				rgba(255, 255, 255, 0.15) 25%,
				transparent 25%,
				transparent 50%,
				rgba(255, 255, 255, 0.15) 50%,
				rgba(255, 255, 255, 0.15) 75%,
				transparent 75%,
				transparent
			);
			background-size: 1rem 1rem;
		}

		// Animated stripes
		&.stripes-animated {
			animation: wbcom-progress-stripes 1s linear infinite;
		}
	}

	.wbcom-progress-bar-percent-in {
		font-size: 0.75rem;
		font-weight: 700;
		white-space: nowrap;
		color: var(--fill-text);
	}
}

// Stripes animation
@keyframes wbcom-progress-stripes {
	0% {
		background-position: 1rem 0;
	}
	100% {
		background-position: 0 0;
	}
}
