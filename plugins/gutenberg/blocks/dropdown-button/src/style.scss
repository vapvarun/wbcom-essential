
/**
 * Dropdown Button Block - Frontend Styles
 *
 * CSS variables are set via inline style from save.js/edit.js.
 * Use fallback chain pattern: inline style -> theme -> default.
 *
 * @package wbcom-essential
 */

.dropdown-button-wrapper {
	// CSS variables are set via inline style - use fallback only, don't redefine
	position: relative;

	.dropdown-button-container {
		position: relative;
		display: inline-block;
	}

	.dropdown-button {
		display: inline-flex;
		align-items: center;
		gap: 8px;
		padding: 12px 24px;
		border: none;
		border-radius: 4px;
		// Background and color use inline styles directly from save.js
		// Default fallback only if no inline style is set
		background-color: var(--wbcom-button-bg, #2271b1);
		color: var(--wbcom-button-text, #ffffff);
		font-size: 16px;
		font-weight: 500;
		cursor: pointer;
		transition: all 0.3s ease;
		position: relative;
		overflow: hidden;
		z-index: 0;

		&:hover {
			// Hover colors read from CSS variables set via inline style
			color: var(--hover-text-color, var(--wbcom-button-text, currentColor));
			background-color: var(--hover-bg-color, var(--wbcom-button-hover-bg, rgba(0, 0, 0, 0.1)));
			// Apply hover gradient if CSS variable is set
			background-image: var(--hover-gradient, none);
			// Apply hover border - always set by save.js
			border: var(--hover-border, none);
			opacity: 0.9;
			transform: translateY(-1px);
		}

		.button-icon {
			display: inline-flex;
			align-items: center;
			font-size: 14px;
			transition: background-color 0.3s ease;
		}

		.button-text {
			display: inline-flex;
			align-items: center;
		}
	}

	&.size-small .dropdown-button {
		padding: 8px 16px;
		font-size: 14px;
	}

	&.size-medium .dropdown-button {
		padding: 12px 24px;
		font-size: 16px;
	}

	&.size-large .dropdown-button {
		padding: 16px 32px;
		font-size: 18px;
	}

	/* Animation/Button Skins - From Elementor */

	/* Animation 1 - Rotate Sweep */
	&.wbcom-btn-1 .dropdown-button:before {
		position: absolute;
		content: "";
		z-index: -1;
		width: 200%;
		height: 150%;
		opacity: 0;
		left: -50%;
		bottom: 0;
		background-color: var(--animation-color);
		transform-origin: left bottom;
		transform: rotate(-90deg) translateZ(0);
		will-change: transform, opacity;
		transition-property: opacity, transform;
		transition-duration: 0.6s;
		transition-timing-function: cubic-bezier(0.01, -0.24, 0, 0.68);
	}

	&.wbcom-btn-1 .dropdown-button:hover:before {
		transform: rotate(0deg) translateZ(0);
		opacity: 1;
		transition-duration: 0.2s;
	}

	/* Animation 2 - Circle Expand */
	&.wbcom-btn-2 .dropdown-button:before {
		position: absolute;
		content: "";
		z-index: -1;
		width: 0;
		height: 0;
		padding: 50%;
		border-radius: 50%;
		left: 50%;
		top: 50%;
		background-color: var(--animation-color);
		transform: translate3d(-50%, -50%, 0) scale(0);
		transition: transform 0.15s ease-out;
	}

	&.wbcom-btn-2 .dropdown-button:hover:before {
		transition-duration: 0.3s;
		transform: translate3d(-50%, -50%, 0) scale(1.5);
		width: 100%;
	}

	/* Animation 3 - Vertical Expand Center */
	&.wbcom-btn-3 .dropdown-button:before {
		position: absolute;
		content: "";
		z-index: -1;
		width: 110%;
		height: 0;
		opacity: 0;
		left: 50%;
		top: 50%;
		background-color: var(--animation-color);
		transform: translate3d(-50%, -50%, 0);
		will-change: opacity, height;
		transition-property: opacity, height;
		transition-duration: 0.25s, 0.25s;
		transition-delay: 0.15s, 0s;
		transition-timing-function: cubic-bezier(0, 0, 0.11, 1.24);
	}

	&.wbcom-btn-3 .dropdown-button:hover:before {
		opacity: 1;
		height: 110%;
		transition-duration: 0.25s, 0.4s;
		transition-delay: 0s;
	}

	/* Animation 4 - Horizontal Expand Center */
	&.wbcom-btn-4 .dropdown-button:before {
		position: absolute;
		content: "";
		z-index: -1;
		width: 0;
		height: 110%;
		opacity: 0;
		left: 50%;
		top: 50%;
		background-color: var(--animation-color);
		transform: translate3d(-50%, -50%, 0);
		will-change: opacity, width;
		transition-property: opacity, width;
		transition-duration: 0.25s, 0.25s;
		transition-delay: 0.15s, 0s;
		transition-timing-function: cubic-bezier(0, 0, 0.11, 1.24);
	}

	&.wbcom-btn-4 .dropdown-button:hover:before {
		opacity: 1;
		width: 110%;
		transition-duration: 0.25s, 0.4s;
		transition-delay: 0s;
	}

	/* Animation 5 - Slide From Left */
	&.wbcom-btn-5 .dropdown-button:before {
		position: absolute;
		content: "";
		z-index: -1;
		width: 0;
		height: 110%;
		opacity: 0;
		left: 0;
		top: 0;
		background-color: var(--animation-color);
		will-change: opacity, width;
		transition-property: opacity, width;
		transition-duration: 0.25s, 0.25s;
		transition-delay: 0.15s, 0s;
		transition-timing-function: cubic-bezier(0, 0, 0.11, 1.24);
	}

	&.wbcom-btn-5 .dropdown-button:hover:before {
		opacity: 1;
		width: 110%;
		transition-duration: 0.25s, 0.4s;
		transition-delay: 0s;
	}

	/* Animation 6 - Slide From Bottom */
	&.wbcom-btn-6 .dropdown-button:before {
		position: absolute;
		content: "";
		z-index: -1;
		width: 110%;
		height: 0;
		opacity: 0;
		left: 0;
		bottom: 0;
		background-color: var(--animation-color);
		will-change: opacity, height;
		transition-property: opacity, height;
		transition-duration: 0.25s, 0.25s;
		transition-delay: 0.15s, 0s;
		transition-timing-function: cubic-bezier(0, 0, 0.11, 1.24);
	}

	&.wbcom-btn-6 .dropdown-button:hover:before {
		opacity: 1;
		height: 110%;
		transition-duration: 0.25s, 0.4s;
		transition-delay: 0s;
	}

	/* Animation 7 - Slide From Right */
	&.wbcom-btn-7 .dropdown-button:before {
		position: absolute;
		content: "";
		z-index: -1;
		width: 0;
		height: 110%;
		opacity: 0;
		right: 0;
		top: 0;
		background-color: var(--animation-color);
		will-change: opacity, width;
		transition-property: opacity, width;
		transition-duration: 0.25s, 0.25s;
		transition-delay: 0.15s, 0s;
		transition-timing-function: cubic-bezier(0, 0, 0.11, 1.24);
	}

	&.wbcom-btn-7 .dropdown-button:hover:before {
		opacity: 1;
		width: 110%;
		transition-duration: 0.25s, 0.4s;
		transition-delay: 0s;
	}

	/* Animation 8 - Slide From Top */
	&.wbcom-btn-8 .dropdown-button:before {
		position: absolute;
		content: "";
		z-index: -1;
		width: 110%;
		height: 0;
		opacity: 0;
		left: 0;
		top: 0;
		background-color: var(--animation-color);
		will-change: opacity, height;
		transition-property: opacity, height;
		transition-duration: 0.25s, 0.25s;
		transition-delay: 0.15s, 0s;
		transition-timing-function: cubic-bezier(0, 0, 0.11, 1.24);
	}

	&.wbcom-btn-8 .dropdown-button:hover:before {
		opacity: 1;
		height: 110%;
		transition-duration: 0.25s, 0.4s;
		transition-delay: 0s;
	}

	.dropdown-menu {
		position: absolute;
		list-style: none;
		margin: 0;
		padding: 0;
		// Dropdown colors - use inline style or fallback to theme/defaults
		background-color: var(--dropdown-bg, var(--wbcom-card-bg, #ffffff));
		border: 1px solid var(--dropdown-border, var(--wbcom-border-color, #ddd));
		border-radius: 4px;
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
		min-width: 200px;
		opacity: 0;
		visibility: hidden;
		transform: translateY(-10px);
		transition: all 0.3s ease;
		z-index: 1000;

		&.position-bottom {
			top: calc(100% + 8px);
			left: 0;
		}

		&.position-top {
			bottom: calc(100% + 8px);
			left: 0;
			transform: translateY(10px);
		}

		&.position-left {
			top: 0;
			right: calc(100% + 8px);
			transform: translateX(10px);
		}

		&.position-right {
			top: 0;
			left: calc(100% + 8px);
			transform: translateX(-10px);
		}

		li {
			margin: 0;
			padding: 0;
			border-bottom: 1px solid var(--separator-color, var(--wbcom-border-color-light, #eee));

			&:last-child {
				border-bottom: none;
			}

			a {
				display: block;
				padding: 12px 16px;
				color: inherit;
				text-decoration: none;
				transition: all 0.2s ease;

				&:hover {
					// Dropdown hover colors - read from CSS variables set via inline style
					background-color: var(--dropdown-hover-bg-color, var(--wbcom-card-bg-alt, #f5f5f5));
					color: var(--dropdown-hover-text-color, var(--wbcom-color-primary, #2271b1));
				}
			}
		}
	}

	.dropdown-menu.is-open {
		opacity: 1;
		visibility: visible;
		transform: translateY(0) translateX(0);
	}
}
