// Slick Carousel Styles
.slick-slider {
    position: relative;
    display: block;
    box-sizing: border-box;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
    -khtml-user-select: none;
    -ms-touch-action: pan-y;
    touch-action: pan-y;
    -webkit-tap-highlight-color: transparent;
}

.slick-list {
    position: relative;
    display: block;
    overflow: hidden;
    margin: 0;
    padding: 0;
}

.slick-list:focus {
    outline: 0;
}

.slick-list.dragging {
    cursor: pointer;
    cursor: hand;
}

.slick-slider .slick-list,
.slick-slider .slick-track {
    -webkit-transform: translate3d(0, 0, 0);
    -moz-transform: translate3d(0, 0, 0);
    -ms-transform: translate3d(0, 0, 0);
    -o-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
}

.slick-track {
    position: relative;
    top: 0;
    left: 0;
    display: block;
	padding-bottom: 10px;
}

.slick-track:after,
.slick-track:before {
    display: table;
    content: '';
}

.slick-track:after {
    clear: both;
}

.slick-loading .slick-track {
    visibility: hidden;
}

.slick-slide {
    display: none;
    float: left;
    height: 100%;
    min-height: 1px;
    outline: 0;
    margin: 0;
}

// Adaptive height mode - allow slides to have natural height.
.adaptive-height .slick-slide {
    height: auto;
}

.adaptive-height .slick-track {
    display: flex;
    align-items: flex-start;
}

[dir=rtl] .slick-slide {
    float: right;
}

.slick-slide img {
    display: block;
    width: 100%;
    height: auto;
}

.slick-slide.slick-loading img {
    display: none;
}

.slick-slide.dragging img {
    pointer-events: none;
}

.slick-initialized .slick-slide {
    display: block;
}

.slick-loading .slick-slide {
    visibility: hidden;
}

.slick-arrow.slick-hidden {
    display: none;
}

.slick-prev,
.slick-next {
    font-size: 0;
    line-height: 0;
    position: absolute;
    top: 50%;
    display: block;
    width: 20px;
    height: 20px;
    padding: 0;
    -webkit-transform: translate(0, -50%);
    -ms-transform: translate(0, -50%);
    transform: translate(0, -50%);
    cursor: pointer;
    color: transparent;
    border: none;
    outline: none;
    background: transparent;
}

.slick-prev:hover,
.slick-next:hover {
    color: transparent;
    outline: none;
    background: transparent;
}

.slick-prev:focus,
.slick-next:focus {
    color: transparent;
    outline: none;
    background: transparent;
}

.slick-prev {
    left: -25px;
}

[dir=rtl] .slick-prev {
    right: -25px;
    left: auto;
}

.slick-next {
    right: -25px;
}

[dir=rtl] .slick-next {
    right: auto;
    left: -25px;
}

.slick-prev:before,
.slick-next:before {
    font-family: 'slick';
    font-size: 20px;
    line-height: 1;
    opacity: .75;
    color: white;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.slick-prev:hover:before,
.slick-next:hover:before {
    opacity: 1;
}

.slick-prev:before {
    content: '←';
}

[dir=rtl] .slick-prev:before {
    content: '→';
}

.slick-next:before {
    content: '→';
}

[dir=rtl] .slick-next:before {
    content: '←';
}

.slick-dots {
    display: block;
    width: 100%;
    padding: 0;
    margin: 0;
    list-style: none;
    text-align: center;
}

.slick-dots li {
    position: relative;
    display: inline-block;
    width: 20px;
    height: 20px;
    margin: 0 5px;
    padding: 0;
    cursor: pointer;
}

.slick-dots li button {
    font-size: 0;
    line-height: 0;
    display: block;
    width: 20px;
    height: 20px;
    padding: 5px;
    cursor: pointer;
    color: transparent;
    border: 0;
    outline: none;
    background: transparent;
}

.slick-dots li button:hover,
.slick-dots li button:focus {
    outline: none;
}

.slick-dots li button:hover:before,
.slick-dots li button:focus:before {
    opacity: 1;
}

.slick-dots li button:before {
    font-family: 'slick';
    font-size: 6px;
    line-height: 20px;
    position: absolute;
    top: 0;
    left: 0;
    width: 20px;
    height: 20px;
    content: '' !important;
    text-align: center;
    opacity: .25;
    color: black;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.slick-dots li.slick-active button:before {
    opacity: .75;
    color: black;
}

// Custom navigation arrows styling
.wbcom-post-carousel {
    .wbcom-post-carousel-prev,
    .wbcom-post-carousel-next {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        z-index: 1;
        display: flex !important;
        align-items: center;
        justify-content: center;
        width: 40px !important;
        height: 40px !important;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.3s ease;
        opacity: 1 !important;
        visibility: visible !important;

        i {
            font-size: 16px;
            color: inherit;
        }
    }

    .wbcom-post-carousel-prev {
        left: 10px;
    }

    .wbcom-post-carousel-next {
        right: 10px;
    }
}

// Block-specific styles
.wp-block-wbcom-essential-post-carousel {
	// Layout
	--card-radius: 8px;
	--card-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
	--card-shadow-hover: 0 8px 25px rgba(0, 0, 0, 0.15);
	// Colors - default values (can be overridden by inline styles or theme colors)
	--card-bg: #ffffff;
	--title-color: #333;
	--title-hover-color: #007cba;
	--excerpt-color: #666;
	--meta-color: #888;
	--border-color: #eee;
	--nav-bg: rgba(255, 255, 255, 0.9);
	--nav-color: #333;
	--nav-hover-bg: #007cba;
	--nav-hover-color: #fff;
	--dot-color: #ddd;
	--dot-active-color: #007cba;
	--category-bg: rgba(0, 0, 0, 0.7);
	--category-color: #fff;

	/**
	 * Theme Colors Mode
	 * When enabled, colors inherit from the active theme's CSS custom properties.
	 */
	&.use-theme-colors {
		// Card colors - use theme card and text variables.
		--card-bg: var(--wbcom-card-bg, var(--wbcom-color-base, #ffffff));
		--title-color: var(--wbcom-heading-color, var(--wbcom-color-contrast, #333));
		--title-hover-color: var(--wbcom-color-primary, #007cba);
		--excerpt-color: var(--wbcom-text-color, var(--wbcom-color-contrast-2, #666));
		--meta-color: var(--wbcom-meta-color, var(--wbcom-color-contrast-2, #888));
		--border-color: var(--wbcom-border-color, var(--wbcom-card-border, #eee));

		// Navigation colors - use theme primary.
		--nav-bg: var(--wbcom-card-bg, var(--wbcom-color-base, rgba(255, 255, 255, 0.9)));
		--nav-color: var(--wbcom-heading-color, var(--wbcom-color-contrast, #333));
		--nav-hover-bg: var(--wbcom-color-primary, #007cba);
		--nav-hover-color: var(--wbcom-button-text, #fff);

		// Dots colors - use theme primary.
		--dot-color: var(--wbcom-border-color, var(--wbcom-color-contrast-2, #ddd));
		--dot-active-color: var(--wbcom-color-primary, #007cba);

		// Category badge colors - use theme primary.
		--category-bg: var(--wbcom-color-primary, rgba(0, 0, 0, 0.7));
		--category-color: var(--wbcom-button-text, #fff);
	}

	&.wbcom-post-carousel {
		opacity: 1; // Override the initial opacity: 0
		position: relative;
		margin: 0 auto;
		padding: 20px 0;

		// Carousel wrapper
		.wbcom-post-carousel-wrapper {
			position: relative;
		}

		// Carousel inner container
		.wbcom-post-carousel-inner {
			display: flex;
			margin: 0 -10px;

			.wbcom-posts-card {
				position: relative;
				margin: 0 10px;
				border-radius: var(--card-radius);
				overflow: hidden;
				background: var(--card-bg);
				box-shadow: var(--card-shadow);
				transition: transform 0.3s ease, box-shadow 0.3s ease;

				&:hover {
					transform: translateY(-5px);
					box-shadow: var(--card-shadow-hover);
				}

				// Image wrapper
				.wbcom-posts-card-img-wrapper {
					position: relative;
					overflow: hidden;

					.wbcom-posts-card-featured-img {
						position: relative;
						display: block;
						overflow: hidden;

						a {
							display: block;
							position: relative;
							overflow: hidden;

							img {
								width: 100%;
								height: 200px;
								object-fit: cover;
								transition: transform 0.3s ease;

								&:hover {
									transform: scale(1.05);
								}
							}
						}
					}
				}

				// Card body
				.wbcom-posts-card-body-wrapper {
					padding: 20px;

					.wbcom-posts-card-body {
						.wbcom-posts-card-title {
							margin: 0 0 10px 0;
							line-height: 1.4;

							a {
								text-decoration: none;
								color: var(--title-color);
								font-weight: 600;
								transition: color 0.3s ease;

								&:hover {
									color: var(--title-hover-color);
								}
							}
						}

						.wbcom-posts-excerpt {
							margin: 10px 0;

							p {
								margin: 0;
								color: var(--excerpt-color);
								font-size: 14px;
								line-height: 1.5;
							}
						}
					}

					// Card footer
					.wbcom-posts-card-footer {
						margin-top: 15px;
						padding-top: 15px;
						border-top: 1px solid var(--border-color);
						justify-content: space-between;

						&:empty {
							display: none;
						}

						.wbcom-posts-card-author {
							display: flex;
							align-items: center;
							font-size: 13px;
							color: var(--meta-color);

							.wbcom-posts-card-author-img {
								margin-right: 8px;

								img {
									border-radius: 50%;
									width: 32px;
									height: 32px;
								}
							}

							.wbcom-posts-card-author-link {
								color: var(--meta-color);
								text-decoration: none;
								transition: color 0.3s ease;

								&:hover {
									color: var(--title-hover-color);
								}
							}
						}

						.wbcom-posts-card-date {
							font-size: 13px;
							color: var(--meta-color);
							margin-top: 10px;

							.wbcom-posts-card-date-link {
								color: var(--meta-color);
								text-decoration: none;
								transition: color 0.3s ease;

								&:hover {
									color: var(--title-hover-color);
								}
							}
						}
					}
				}

				// Categories
				.wbcom-posts-card-cats {
					position: absolute;
					top: 15px;
					left: 15px;
					z-index: 2;

					a {
						display: inline-block;
						padding: 4px 12px;
						background: var(--category-bg);
						color: var(--category-color);
						text-decoration: none;
						font-size: 12px;
						font-weight: 500;
						border-radius: 20px;
						margin-right: 5px;
						transition: background 0.3s ease;

						&:hover {
							background: rgba(0, 0, 0, 0.9);
						}
					}
				}
			}
		}

		// Navigation arrows
		.wbcom-post-carousel-prev,
		.wbcom-post-carousel-next {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
			width: 50px;
			height: 50px;
			background: var(--nav-bg);
			border: none;
			border-radius: 50%;
			color: var(--nav-color);
			font-size: 18px;
			cursor: pointer;
			display: flex;
			align-items: center;
			justify-content: center;
			box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
			transition: all 0.3s ease;
			z-index: 10;

			&:hover {
				background: var(--nav-hover-bg);
				color: var(--nav-hover-color);
				box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
				transform: translateY(-50%) scale(1.1);
			}

			&:focus {
				outline: none;
				box-shadow: 0 0 0 3px rgba(0, 124, 186, 0.3);
			}
		}

		.wbcom-post-carousel-prev {
			left: -25px;
		}

		.wbcom-post-carousel-next {
			right: -25px;
		}

		// Navigation dots
		.wbcom-post-carousel-dots {
			display: flex;
			justify-content: center;
			align-items: center;
			margin-top: 30px;
			padding: 0;
			list-style: none;

			li {
				margin: 0 4px;

				button {
					width: 12px;
					height: 12px;
					border-radius: 50%;
					border: none;
					background: var(--dot-color);
					cursor: pointer;
					transition: all 0.3s ease;
					padding: 0;

					&:hover {
						background: var(--meta-color);
					}

					&:focus {
						outline: none;
						box-shadow: 0 0 0 2px rgba(0, 124, 186, 0.3);
					}
				}

				&.slick-active button {
					background: var(--dot-active-color);
					transform: scale(1.2);
				}
			}
		}
	}

	// Responsive styles
	@media (max-width: 1024px) {
		.wbcom-post-carousel {
			.wbcom-post-carousel-prev {
				left: -20px;
			}

			.wbcom-post-carousel-next {
				right: -20px;
			}
		}
	}

	@media (max-width: 768px) {
		.wbcom-post-carousel {
			padding: 15px 0;

			.wbcom-post-carousel-inner {
				margin: 0 -5px;

				.wbcom-posts-card {
					margin: 0 5px;

					.wbcom-posts-card-img-wrapper {
						.wbcom-posts-card-featured-img img {
							height: 150px;
						}
					}

					.wbcom-posts-card-body-wrapper {
						padding: 15px;

						.wbcom-posts-card-title a {
							font-size: 16px;
						}

						.wbcom-posts-excerpt p {
							font-size: 13px;
						}
					}
				}
			}

			.wbcom-post-carousel-prev,
			.wbcom-post-carousel-next {
				width: 40px;
				height: 40px;
				font-size: 16px;
			}

			.wbcom-post-carousel-prev {
				left: -15px;
			}

			.wbcom-post-carousel-next {
				right: -15px;
			}
		}
	}

	@media (max-width: 480px) {
		.wbcom-post-carousel {
			.wbcom-post-carousel-inner {
				.wbcom-posts-card {
					.wbcom-posts-card-body-wrapper {
						padding: 12px;

						.wbcom-posts-card-title a {
							font-size: 14px;
						}

						.wbcom-posts-card-footer {
							flex-direction: column;
							align-items: flex-start;
							gap: 8px;
						}
					}
				}
			}

			.wbcom-post-carousel-prev,
			.wbcom-post-carousel-next {
				display: none; // Hide arrows on very small screens
			}
		}
	}
}