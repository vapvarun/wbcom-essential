document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".wp-block-wbcom-essential-smart-menu").forEach(function(e){const n=e.querySelector(".smart-menu-container"),t=e.querySelector(".smart-menu-toggle"),o=e.querySelector(".smart-menu-nav"),s=parseInt(n.dataset.breakpoint||1024),i=n.dataset.collapsibleBehavior||"link",c=n.dataset.submenuAnimation||"";function a(){window.innerWidth<=s?(e.classList.add("mobile-view"),o&&(t?o.classList.remove("menu-open"):o.classList.add("menu-open"))):(e.classList.remove("mobile-view"),o&&o.classList.add("menu-open"))}function l(e){c&&(e.style.animation=`${c} 0.3s ease`)}t&&o&&t.addEventListener("click",function(){o.classList.toggle("menu-open")}),a(),window.addEventListener("resize",a),e.querySelectorAll(".menu-item-has-children").forEach(function(n){const t=n.querySelector("a"),o=n.querySelector(".sub-menu"),s=n.querySelector(".dropdown-icon");t&&o&&(e.classList.contains("mobile-view")||n.addEventListener("mouseenter",function(){l(o)}),t.addEventListener("click",function(t){const c=e.classList.contains("mobile-view");if("accordion"!==i&&"accordion-toggle"!==i&&"accordion-link"!==i||n.parentElement.querySelectorAll(":scope > .menu-item-has-children").forEach(function(e){if(e!==n){const n=e.querySelector(".sub-menu");n&&(n.classList.remove("open"),e.classList.remove("submenu-expanded"))}}),c){if(s&&s.contains(t.target))t.preventDefault();else if("link"===i||"accordion-link"===i)return;o.classList.toggle("open"),l(o)}else"link"===i||"accordion-link"===i||(t.preventDefault(),n.classList.toggle("submenu-expanded"),o.classList.toggle("open"),l(o))}))}),document.addEventListener("click",function(n){e.classList.contains("mobile-view")&&t&&!e.contains(n.target)&&o&&o.classList.remove("menu-open")})})});