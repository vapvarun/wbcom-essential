document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".wp-block-wbcom-essential-smart-menu").forEach(function(e){const n=e.querySelector(".smart-menu-container"),t=e.querySelector(".smart-menu-toggle"),s=e.querySelector(".smart-menu-nav"),o=parseInt(n.dataset.breakpoint||1024);function i(){window.innerWidth<=o?(e.classList.add("mobile-view"),s&&(t?s.classList.remove("menu-open"):s.classList.add("menu-open"))):(e.classList.remove("mobile-view"),s&&s.classList.add("menu-open"))}t&&s&&t.addEventListener("click",function(){s.classList.toggle("menu-open")}),i(),window.addEventListener("resize",i),e.querySelectorAll(".menu-item-has-children").forEach(function(n){const t=n.querySelector("a"),s=n.querySelector(".sub-menu"),o=n.querySelector(".dropdown-icon");t&&s&&t.addEventListener("click",function(t){e.classList.contains("mobile-view")?(o&&o.contains(t.target)&&t.preventDefault(),s.classList.toggle("open")):(t.preventDefault(),n.classList.toggle("submenu-expanded"))})}),document.addEventListener("click",function(n){e.classList.contains("mobile-view")&&t&&!e.contains(n.target)&&s&&s.classList.remove("menu-open")})})});