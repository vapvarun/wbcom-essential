(()=>{"use strict";var e,o={139:(e,o,l)=>{const s=window.wp.blocks,n=window.wp.i18n,t=window.wp.element,i=window.wp.apiFetch;var r=l.n(i);const a=window.wp.blockEditor,c=window.wp.components,m=window.ReactJSXRuntime,d=[{name:(0,n.__)("Success","wbcom-essential"),color:"#1CD991"},{name:(0,n.__)("Danger","wbcom-essential"),color:"#EF3E46"},{name:(0,n.__)("Primary","wbcom-essential"),color:"#3182ce"},{name:(0,n.__)("Secondary","wbcom-essential"),color:"#718096"},{name:(0,n.__)("Warning","wbcom-essential"),color:"#d69e2e"},{name:(0,n.__)("Info","wbcom-essential"),color:"#00b5d8"},{name:(0,n.__)("Light Gray","wbcom-essential"),color:"#DEDFE2"},{name:(0,n.__)("Dark","wbcom-essential"),color:"#122B46"},{name:(0,n.__)("Gray","wbcom-essential"),color:"#A3A5A9"},{name:(0,n.__)("White","wbcom-essential"),color:"#ffffff"}];function p({label:e,value:o,onChange:l}){const[s,i]=(0,t.useState)(!1);return(0,m.jsx)(c.BaseControl,{label:e,className:"wbcom-color-control",children:(0,m.jsxs)("div",{className:"wbcom-color-control-inner",children:[(0,m.jsx)(c.Button,{className:"wbcom-color-indicator",onClick:()=>i(!s),style:{backgroundColor:o||"#ccc"}}),o&&(0,m.jsx)(c.Button,{isSmall:!0,variant:"tertiary",onClick:()=>l(""),children:(0,n.__)("Clear","wbcom-essential")}),s&&(0,m.jsx)(c.Popover,{position:"bottom left",onClose:()=>i(!1),children:(0,m.jsx)("div",{style:{padding:"12px",minWidth:"200px"},children:(0,m.jsx)(c.ColorPalette,{colors:d,value:o,onChange:e=>{l(e),i(!1)},clearable:!1})})})]})})}const b=[{label:(0,n.__)("Circle","wbcom-essential"),value:"circle"},{label:(0,n.__)("Linear","wbcom-essential"),value:"linear"}],h=JSON.parse('{"UU":"wbcom-essential/profile-completion"}');(0,s.registerBlockType)(h.UU,{edit:function({attributes:e,setAttributes:o}){const{skinStyle:l,alignment:s,hideOnComplete:i,showProfileButton:d,showProfilePhoto:h,showCoverPhoto:w,selectedFieldGroups:g,fieldGroupsInitialized:u,showHeader:x,showCompletionIcon:_,showCompletionStatus:C,headingText:j,completionText:v,completeButtonText:f,editButtonText:B,progressSize:P,progressWidth:y,completionColor:T,incompleteColor:k,progressBorderColor:S,numberColor:N,textColor:O,detailsBgColor:I,buttonColor:D,buttonBgColor:F,buttonBorderColor:G}=e,[E,z]=(0,t.useState)([]),[A,W]=(0,t.useState)(!0),[H,L]=(0,t.useState)(!1);(0,t.useEffect)(()=>{r()({path:"/wbcom-essential/v1/xprofile-groups"}).then(e=>{const l=e.fieldGroups||[];if(z(l),W(!1),!u&&l.length>0){const e=l.map(e=>e.id);o({selectedFieldGroups:e,fieldGroupsInitialized:!0})}}).catch(()=>{L(!0),W(!1)})},[]);const R=(0,a.useBlockProps)({className:`wbcom-essential-profile-completion wbcom-profile-completion-skin-${l} wbcom-profile-completion-align-${s}`,style:{"--progress-size":`${P}px`,"--progress-width":`${y}px`,"--completion-color":T,"--incomplete-color":k,"--progress-border":S,"--number-color":N,"--text-color":O,"--details-bg":I,"--button-color":D,"--button-bg":F,"--button-border":G,"--progress-percent":65}});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(a.BlockControls,{children:(0,m.jsx)(a.AlignmentToolbar,{value:s,onChange:e=>o({alignment:e})})}),(0,m.jsxs)(a.InspectorControls,{children:[(0,m.jsxs)(c.PanelBody,{title:(0,n.__)("Layout","wbcom-essential"),initialOpen:!0,children:[(0,m.jsx)(c.SelectControl,{label:(0,n.__)("Skin Style","wbcom-essential"),value:l,options:b,onChange:e=>o({skinStyle:e})}),(0,m.jsx)(c.ToggleControl,{label:(0,n.__)("Hide on 100% Complete","wbcom-essential"),checked:i,onChange:e=>o({hideOnComplete:e})}),(0,m.jsx)(c.ToggleControl,{label:(0,n.__)("Show Profile Button","wbcom-essential"),checked:d,onChange:e=>o({showProfileButton:e})})]}),(0,m.jsxs)(c.PanelBody,{title:(0,n.__)("Progress Items","wbcom-essential"),initialOpen:!1,children:[(0,m.jsx)(c.ToggleControl,{label:(0,n.__)("Include Profile Photo","wbcom-essential"),checked:h,onChange:e=>o({showProfilePhoto:e}),help:(0,n.__)("Track profile photo upload in progress","wbcom-essential")}),(0,m.jsx)(c.ToggleControl,{label:(0,n.__)("Include Cover Photo","wbcom-essential"),checked:w,onChange:e=>o({showCoverPhoto:e}),help:(0,n.__)("Track cover photo upload in progress","wbcom-essential")}),A&&(0,m.jsxs)("div",{style:{textAlign:"center",padding:"10px"},children:[(0,m.jsx)(c.Spinner,{}),(0,m.jsx)("p",{children:(0,n.__)("Loading field groups...","wbcom-essential")})]}),H&&(0,m.jsx)(c.Notice,{status:"warning",isDismissible:!1,children:(0,n.__)("Could not load xProfile groups. BuddyPress may not be active.","wbcom-essential")}),!A&&!H&&E.length>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{className:"components-base-control__help",style:{marginTop:"16px",marginBottom:"8px"},children:(0,n.__)("xProfile Field Groups:","wbcom-essential")}),E.map(e=>(0,m.jsx)(c.ToggleControl,{label:e.name,checked:g.includes(e.id),onChange:()=>(e=>{const l=g.includes(e)?g.filter(o=>o!==e):[...g,e];o({selectedFieldGroups:l})})(e.id)},e.id))]}),!A&&!H&&0===E.length&&(0,m.jsx)(c.Notice,{status:"info",isDismissible:!1,children:(0,n.__)("No xProfile field groups found. Create field groups in BuddyPress settings.","wbcom-essential")})]}),(0,m.jsxs)(c.PanelBody,{title:(0,n.__)("Details Dropdown","wbcom-essential"),initialOpen:!1,children:["circle"===l&&(0,m.jsx)(c.ToggleControl,{label:(0,n.__)("Show Header","wbcom-essential"),checked:x,onChange:e=>o({showHeader:e})}),(0,m.jsx)(c.ToggleControl,{label:(0,n.__)("Show Completion Icon","wbcom-essential"),checked:_,onChange:e=>o({showCompletionIcon:e})}),(0,m.jsx)(c.ToggleControl,{label:(0,n.__)("Show Completion Status","wbcom-essential"),checked:C,onChange:e=>o({showCompletionStatus:e})})]}),(0,m.jsxs)(c.PanelBody,{title:(0,n.__)("Labels","wbcom-essential"),initialOpen:!1,children:["linear"===l&&(0,m.jsx)(c.TextControl,{label:(0,n.__)("Heading Text","wbcom-essential"),value:j,onChange:e=>o({headingText:e})}),(0,m.jsx)(c.TextControl,{label:(0,n.__)("Completion Text","wbcom-essential"),value:v,onChange:e=>o({completionText:e})}),d&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.TextControl,{label:(0,n.__)("Complete Button Text","wbcom-essential"),value:f,onChange:e=>o({completeButtonText:e}),help:(0,n.__)("Shown when progress is below 100%","wbcom-essential")}),(0,m.jsx)(c.TextControl,{label:(0,n.__)("Edit Button Text","wbcom-essential"),value:B,onChange:e=>o({editButtonText:e}),help:(0,n.__)("Shown when progress is 100%","wbcom-essential")})]})]}),(0,m.jsxs)(c.PanelBody,{title:(0,n.__)("Progress Style","wbcom-essential"),initialOpen:!1,children:["circle"===l&&(0,m.jsx)(c.RangeControl,{label:(0,n.__)("Circle Size (px)","wbcom-essential"),value:P,onChange:e=>o({progressSize:e}),min:60,max:150}),(0,m.jsx)(c.RangeControl,{label:(0,n.__)("Progress Bar Width (px)","wbcom-essential"),value:y,onChange:e=>o({progressWidth:e}),min:3,max:12})]}),(0,m.jsxs)(c.PanelBody,{title:(0,n.__)("Colors","wbcom-essential"),initialOpen:!1,children:[(0,m.jsx)(p,{label:(0,n.__)("Completion Color","wbcom-essential"),value:T,onChange:e=>o({completionColor:e})}),(0,m.jsx)(p,{label:(0,n.__)("Incomplete Color","wbcom-essential"),value:k,onChange:e=>o({incompleteColor:e})}),(0,m.jsx)(p,{label:(0,n.__)("Progress Background","wbcom-essential"),value:S,onChange:e=>o({progressBorderColor:e})}),(0,m.jsx)(p,{label:(0,n.__)("Number Color","wbcom-essential"),value:N,onChange:e=>o({numberColor:e})}),(0,m.jsx)(p,{label:(0,n.__)("Text Color","wbcom-essential"),value:O,onChange:e=>o({textColor:e})}),(0,m.jsx)(p,{label:(0,n.__)("Details Background","wbcom-essential"),value:I,onChange:e=>o({detailsBgColor:e})})]}),(0,m.jsxs)(c.PanelBody,{title:(0,n.__)("Button Style","wbcom-essential"),initialOpen:!1,children:[(0,m.jsx)(p,{label:(0,n.__)("Button Color","wbcom-essential"),value:D,onChange:e=>o({buttonColor:e})}),(0,m.jsx)(p,{label:(0,n.__)("Button Background","wbcom-essential"),value:F,onChange:e=>o({buttonBgColor:e})}),(0,m.jsx)(p,{label:(0,n.__)("Button Border","wbcom-essential"),value:G,onChange:e=>o({buttonBorderColor:e})})]})]}),(0,m.jsx)("div",{...R,children:(0,m.jsxs)("div",{className:"wbcom-profile-completion-wrapper",children:["circle"===l?(0,m.jsx)("div",{className:"wbcom-profile-completion-circle",children:(0,m.jsxs)("div",{className:"wbcom-progress-ring",children:[(0,m.jsx)("div",{className:"wbcom-progress-ring-inner"}),(0,m.jsxs)("div",{className:"wbcom-progress-data",children:[(0,m.jsxs)("span",{className:"wbcom-progress-num",children:[65,(0,m.jsx)("span",{children:"%"})]}),(0,m.jsx)("span",{className:"wbcom-progress-text",children:v})]})]})}):(0,m.jsxs)("div",{className:"wbcom-profile-completion-linear",children:[(0,m.jsxs)("div",{className:"wbcom-progress-header",children:[(0,m.jsx)("h3",{children:j}),(0,m.jsx)("span",{className:"dashicons dashicons-arrow-right-alt2"})]}),(0,m.jsx)("div",{className:"wbcom-progress-bar",children:(0,m.jsx)("div",{className:"wbcom-progress-bar-fill",style:{width:"65%"}})}),(0,m.jsxs)("div",{className:"wbcom-progress-info",children:[(0,m.jsxs)("span",{className:"wbcom-progress-num",children:[65,"%"]}),(0,m.jsx)("span",{className:"wbcom-progress-text",children:v})]})]}),d&&(0,m.jsx)("div",{className:"wbcom-profile-completion-button",children:(0,m.jsxs)("span",{className:"wbcom-profile-button",children:[f,(0,m.jsx)("span",{className:"dashicons dashicons-arrow-right-alt2"})]})})]})})]})},save:function(){return null}})}},l={};function s(e){var n=l[e];if(void 0!==n)return n.exports;var t=l[e]={exports:{}};return o[e](t,t.exports,s),t.exports}s.m=o,e=[],s.O=(o,l,n,t)=>{if(!l){var i=1/0;for(m=0;m<e.length;m++){for(var[l,n,t]=e[m],r=!0,a=0;a<l.length;a++)(!1&t||i>=t)&&Object.keys(s.O).every(e=>s.O[e](l[a]))?l.splice(a--,1):(r=!1,t<i&&(i=t));if(r){e.splice(m--,1);var c=n();void 0!==c&&(o=c)}}return o}t=t||0;for(var m=e.length;m>0&&e[m-1][2]>t;m--)e[m]=e[m-1];e[m]=[l,n,t]},s.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return s.d(o,{a:o}),o},s.d=(e,o)=>{for(var l in o)s.o(o,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:o[l]})},s.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};s.O.j=o=>0===e[o];var o=(o,l)=>{var n,t,[i,r,a]=l,c=0;if(i.some(o=>0!==e[o])){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(a)var m=a(s)}for(o&&o(l);c<i.length;c++)t=i[c],s.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return s.O(m)},l=globalThis.webpackChunkwbcom_essential_profile_completion=globalThis.webpackChunkwbcom_essential_profile_completion||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))})();var n=s.O(void 0,[350],()=>s(139));n=s.O(n)})();