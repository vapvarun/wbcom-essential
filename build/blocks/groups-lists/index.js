(()=>{"use strict";var e,o={573:(e,o,l)=>{const t=window.wp.blocks,a=window.React,n=window.wp.i18n,r=window.wp.blockEditor,s=window.wp.components,i=window.wp.element,c=window.wp.apiFetch;var m=l.n(c);const b=window.wp.serverSideRender;var u=l.n(b);const _=[{name:(0,n.__)("Primary","wbcom-essential"),color:"#1d76da"},{name:(0,n.__)("Dark","wbcom-essential"),color:"#303030"},{name:(0,n.__)("Gray","wbcom-essential"),color:"#9c9c9c"},{name:(0,n.__)("Light Gray","wbcom-essential"),color:"#a3a5a9"},{name:(0,n.__)("Border","wbcom-essential"),color:"#e3e3e3"},{name:(0,n.__)("White","wbcom-essential"),color:"#ffffff"},{name:(0,n.__)("Success","wbcom-essential"),color:"#1CD991"},{name:(0,n.__)("Danger","wbcom-essential"),color:"#EF3E46"},{name:(0,n.__)("Warning","wbcom-essential"),color:"#d69e2e"},{name:(0,n.__)("Info","wbcom-essential"),color:"#00b5d8"}];function w({label:e,value:o,onChange:l}){const[t,r]=(0,i.useState)(!1);return(0,a.createElement)(s.BaseControl,{label:e,className:"wbcom-color-control"},(0,a.createElement)("div",{className:"wbcom-color-control-inner"},(0,a.createElement)(s.Button,{className:"wbcom-color-indicator",onClick:()=>r(!t),style:{backgroundColor:o||"#ccc"}}),o&&(0,a.createElement)(s.Button,{isSmall:!0,variant:"tertiary",onClick:()=>l("")},(0,n.__)("Clear","wbcom-essential")),t&&(0,a.createElement)(s.Popover,{position:"bottom left",onClose:()=>r(!1)},(0,a.createElement)("div",{style:{padding:"12px",minWidth:"200px"}},(0,a.createElement)(s.ColorPalette,{colors:_,value:o,onChange:e=>{l(e),r(!1)},clearable:!1})))))}const p=JSON.parse('{"UU":"wbcom-essential/groups-lists"}');(0,t.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:o}){const{useThemeColors:l,groupsOrder:t,groupTypes:c,groupsCount:b,showAllGroupsLink:_,showFilterTypes:p,showAvatar:d,showMeta:g,headingText:C,allGroupsLinkText:v,boxBgColor:h,boxBorderColor:E,boxBorderRadius:f,avatarSize:x,avatarBorderRadius:y,titleColor:k,metaColor:B,linkColor:T,filterNormalColor:O,filterActiveColor:S,filterActiveBorderColor:A}=e,[F,P]=(0,i.useState)([]),[R,G]=(0,i.useState)(!0);(0,i.useEffect)(()=>{G(!0),m()({path:"/wbcom-essential/v1/group-types"}).then(e=>{P(e||[]),G(!1)}).catch(()=>{P([]),G(!1)})},[]);const L=(0,r.useBlockProps)({className:"wbcom-essential-groups-lists-editor"+(l?" use-theme-colors":"")}),N={"--box-border-radius":`${f}px`,"--avatar-size":`${x}px`,"--avatar-border-radius":`${y}px`,...!l&&{"--box-bg":h,"--box-border-color":E,"--title-color":k,"--meta-color":B,"--link-color":T,"--filter-normal-color":O,"--filter-active-color":S,"--filter-active-border":A}},U=F.map(e=>e.label);return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(r.InspectorControls,null,(0,a.createElement)(s.PanelBody,{title:(0,n.__)("Layout Settings","wbcom-essential"),initialOpen:!0},(0,a.createElement)(s.SelectControl,{label:(0,n.__)("Default Groups Order","wbcom-essential"),value:t,options:[{label:(0,n.__)("Active","wbcom-essential"),value:"active"},{label:(0,n.__)("Popular","wbcom-essential"),value:"popular"},{label:(0,n.__)("Newest","wbcom-essential"),value:"newest"}],onChange:e=>o({groupsOrder:e})}),R?(0,a.createElement)("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},(0,a.createElement)(s.Spinner,null),(0,a.createElement)("span",null,(0,n.__)("Loading group types...","wbcom-essential"))):F.length>0?(0,a.createElement)(s.FormTokenField,{label:(0,n.__)("Group Types","wbcom-essential"),value:c.map(e=>{const o=F.find(o=>o.value===e);return o?o.label:e}),suggestions:U,onChange:e=>{const l=e.map(e=>{const o=F.find(o=>o.label===e);return o?o.value:e});o({groupTypes:l})},__experimentalExpandOnFocus:!0}):null,(0,a.createElement)(s.RangeControl,{label:(0,n.__)("Groups Count","wbcom-essential"),value:b,onChange:e=>o({groupsCount:e}),min:1,max:20}),(0,a.createElement)(s.ToggleControl,{label:(0,n.__)("Show All Groups Link","wbcom-essential"),checked:_,onChange:e=>o({showAllGroupsLink:e})}),(0,a.createElement)(s.ToggleControl,{label:(0,n.__)("Show Filter Types","wbcom-essential"),checked:p,onChange:e=>o({showFilterTypes:e})}),(0,a.createElement)(s.ToggleControl,{label:(0,n.__)("Show Avatar","wbcom-essential"),checked:d,onChange:e=>o({showAvatar:e})}),(0,a.createElement)(s.ToggleControl,{label:(0,n.__)("Show Meta Data","wbcom-essential"),checked:g,onChange:e=>o({showMeta:e})})),(0,a.createElement)(s.PanelBody,{title:(0,n.__)("Content","wbcom-essential"),initialOpen:!1},(0,a.createElement)(s.TextControl,{label:(0,n.__)("Heading Text","wbcom-essential"),value:C,onChange:e=>o({headingText:e})}),_&&(0,a.createElement)(s.TextControl,{label:(0,n.__)("All Groups Link Text","wbcom-essential"),value:v,onChange:e=>o({allGroupsLinkText:e})})),(0,a.createElement)(s.PanelBody,{title:(0,n.__)("Box Styling","wbcom-essential"),initialOpen:!1},(0,a.createElement)(s.RangeControl,{label:(0,n.__)("Border Radius","wbcom-essential"),value:f,onChange:e=>o({boxBorderRadius:e}),min:0,max:50})),(0,a.createElement)(s.PanelBody,{title:(0,n.__)("Avatar Styling","wbcom-essential"),initialOpen:!1},(0,a.createElement)(s.RangeControl,{label:(0,n.__)("Avatar Size","wbcom-essential"),value:x,onChange:e=>o({avatarSize:e}),min:20,max:200}),(0,a.createElement)(s.RangeControl,{label:(0,n.__)("Avatar Border Radius","wbcom-essential"),value:y,onChange:e=>o({avatarBorderRadius:e}),min:0,max:100})),(0,a.createElement)(s.PanelBody,{title:(0,n.__)("Colors","wbcom-essential"),initialOpen:!1},(0,a.createElement)(s.ToggleControl,{label:(0,n.__)("Use Theme Colors","wbcom-essential"),help:l?(0,n.__)("Colors inherit from your theme color palette.","wbcom-essential"):(0,n.__)("Enable to use theme color scheme instead of custom colors.","wbcom-essential"),checked:l,onChange:e=>o({useThemeColors:e})}),!l&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(w,{label:(0,n.__)("Box Background","wbcom-essential"),value:h,onChange:e=>o({boxBgColor:e})}),(0,a.createElement)(w,{label:(0,n.__)("Box Border Color","wbcom-essential"),value:E,onChange:e=>o({boxBorderColor:e})}),(0,a.createElement)(w,{label:(0,n.__)("Title Color","wbcom-essential"),value:k,onChange:e=>o({titleColor:e})}),(0,a.createElement)(w,{label:(0,n.__)("Meta Color","wbcom-essential"),value:B,onChange:e=>o({metaColor:e})}),(0,a.createElement)(w,{label:(0,n.__)("Link Color","wbcom-essential"),value:T,onChange:e=>o({linkColor:e})}))),(0,a.createElement)(s.PanelBody,{title:(0,n.__)("Filter Tab Colors","wbcom-essential"),initialOpen:!1},!l&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(w,{label:(0,n.__)("Normal Color","wbcom-essential"),value:O,onChange:e=>o({filterNormalColor:e})}),(0,a.createElement)(w,{label:(0,n.__)("Active Color","wbcom-essential"),value:S,onChange:e=>o({filterActiveColor:e})}),(0,a.createElement)(w,{label:(0,n.__)("Active Border Color","wbcom-essential"),value:A,onChange:e=>o({filterActiveBorderColor:e})})),l&&(0,a.createElement)("p",{style:{margin:0,fontSize:"12px",color:"#757575"}},(0,n.__)('Filter colors inherit from theme when "Use Theme Colors" is enabled.',"wbcom-essential")))),(0,a.createElement)("div",{...L},(0,a.createElement)("div",{className:"wbcom-essential-groups-lists-preview",style:N},(0,a.createElement)(u(),{block:"wbcom-essential/groups-lists",attributes:e}))))},save:function(){return null}})}},l={};function t(e){var a=l[e];if(void 0!==a)return a.exports;var n=l[e]={exports:{}};return o[e](n,n.exports,t),n.exports}t.m=o,e=[],t.O=(o,l,a,n)=>{if(!l){var r=1/0;for(m=0;m<e.length;m++){for(var[l,a,n]=e[m],s=!0,i=0;i<l.length;i++)(!1&n||r>=n)&&Object.keys(t.O).every(e=>t.O[e](l[i]))?l.splice(i--,1):(s=!1,n<r&&(r=n));if(s){e.splice(m--,1);var c=a();void 0!==c&&(o=c)}}return o}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[l,a,n]},t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var l in o)t.o(o,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:o[l]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};t.O.j=o=>0===e[o];var o=(o,l)=>{var a,n,[r,s,i]=l,c=0;if(r.some(o=>0!==e[o])){for(a in s)t.o(s,a)&&(t.m[a]=s[a]);if(i)var m=i(t)}for(o&&o(l);c<r.length;c++)n=r[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(m)},l=globalThis.webpackChunkwbcom_essential_groups_lists=globalThis.webpackChunkwbcom_essential_groups_lists||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))})();var a=t.O(void 0,[350],()=>t(573));a=t.O(a)})();