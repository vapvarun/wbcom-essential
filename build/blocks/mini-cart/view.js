!function(){"use strict";function e(){document.querySelectorAll(".wbcom-essential-mini-cart.has-dropdown").forEach(e=>{const t=e.querySelector(".wbcom-essential-mini-cart__trigger"),n=e.querySelector(".wbcom-essential-mini-cart__drawer");if(!t||!n)return;const r=n.querySelector(".wbcom-essential-mini-cart__drawer-overlay"),c=n.querySelector(".wbcom-essential-mini-cart__drawer-close");function o(){n.setAttribute("aria-hidden","true"),document.body.classList.remove("mini-cart-drawer-open")}t.addEventListener("click",e=>{e.preventDefault(),n.setAttribute("aria-hidden","false"),document.body.classList.add("mini-cart-drawer-open")}),r&&r.addEventListener("click",e=>{e.preventDefault(),o()}),c&&c.addEventListener("click",e=>{e.preventDefault(),o()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&"false"===n.getAttribute("aria-hidden")&&o()})})}function t(e){document.querySelectorAll(".wbcom-essential-mini-cart__count").forEach(t=>{t.textContent=String(e),t.setAttribute("data-cart-count",String(e)),t.style.display=e>0?"":"none"})}function n(e){const t=(new DOMParser).parseFromString(e,"text/html").querySelector(".woocommerce-Price-amount");if(!t)return;const n=t.textContent||"";document.querySelectorAll(".wbcom-essential-mini-cart__total").forEach(e=>{e.textContent=n}),document.querySelectorAll(".wbcom-essential-mini-cart__subtotal span:last-child").forEach(e=>{e.textContent=n})}function r(){"undefined"!=typeof jQuery&&"undefined"!=typeof wc_cart_fragments_params&&jQuery.ajax({url:wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","get_refreshed_fragments"),type:"POST",success:function(e){if(e&&e.fragments)for(const r in e.fragments){const c=e.fragments[r];if(c&&"string"==typeof c){const e=c.match(/cart-contents-count[^>]*>(\d+)</);e&&e[1]&&t(parseInt(e[1],10)),c.includes("woocommerce-Price-amount")&&n(c)}}}})}function c(){"undefined"!=typeof jQuery&&(jQuery(document.body).on("added_to_cart removed_from_cart",function(e,c){if(c)for(const e in c){const r=c[e];if(r&&"string"==typeof r){const e=r.match(/cart-contents-count[^>]*>(\d+)</);e&&e[1]&&t(parseInt(e[1],10)),r.includes("woocommerce-Price-amount")&&n(r)}}else r()}),jQuery(document.body).on("wc_fragments_refreshed wc_fragments_loaded",function(){r()}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{e(),c()}):(e(),c())}();