!function(){"use strict";function e(){const e=document.querySelectorAll(".wbcom-essential-mini-cart.has-dropdown");e.forEach(e=>{const t=e.querySelector(".wbcom-essential-mini-cart__trigger"),n=e.querySelector(".wbcom-essential-mini-cart__dropdown");t&&n&&(e.addEventListener("mouseenter",()=>{n.classList.add("is-visible")}),e.addEventListener("mouseleave",()=>{n.classList.remove("is-visible")}),t.addEventListener("click",e=>{window.innerWidth<=768&&(e.preventDefault(),n.classList.toggle("is-visible"))}))}),document.addEventListener("click",t=>{e.forEach(e=>{if(!e.contains(t.target)){const t=e.querySelector(".wbcom-essential-mini-cart__dropdown");t&&t.classList.remove("is-visible")}})})}function t(e){document.querySelectorAll(".wbcom-essential-mini-cart__count").forEach(t=>{t.textContent=String(e),t.setAttribute("data-cart-count",String(e)),t.style.display=e>0?"":"none"})}function n(e){const t=(new DOMParser).parseFromString(e,"text/html").querySelector(".woocommerce-Price-amount");if(!t)return;const n=t.textContent||"";document.querySelectorAll(".wbcom-essential-mini-cart__total").forEach(e=>{e.textContent=n}),document.querySelectorAll(".wbcom-essential-mini-cart__subtotal span:last-child").forEach(e=>{e.textContent=n})}function o(){"undefined"!=typeof jQuery&&"undefined"!=typeof wc_cart_fragments_params&&jQuery.ajax({url:wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","get_refreshed_fragments"),type:"POST",success:function(e){if(e&&e.fragments)for(const o in e.fragments){const c=e.fragments[o];if(c&&"string"==typeof c){const e=c.match(/cart-contents-count[^>]*>(\d+)</);e&&e[1]&&t(parseInt(e[1],10)),c.includes("woocommerce-Price-amount")&&n(c)}}}})}function c(){"undefined"!=typeof jQuery&&(jQuery(document.body).on("added_to_cart removed_from_cart",function(e,c){if(c)for(const e in c){const o=c[e];if(o&&"string"==typeof o){const e=o.match(/cart-contents-count[^>]*>(\d+)</);e&&e[1]&&t(parseInt(e[1],10)),o.includes("woocommerce-Price-amount")&&n(o)}}else o()}),jQuery(document.body).on("wc_fragments_refreshed wc_fragments_loaded",function(){o()}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{e(),c()}):(e(),c())}();