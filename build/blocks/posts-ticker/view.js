document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wbcom-essential-posts-ticker").forEach(e=>{const t=e.dataset.tickerType||"horizontal",s=parseInt(e.dataset.speed,10)||50,l="true"===e.dataset.pauseOnHover,n=e.querySelector(".wbcom-essential-posts-ticker__track"),o=e.querySelector(".wbcom-essential-posts-ticker__list"),a=e.querySelectorAll(".wbcom-essential-posts-ticker__item");if(!n||!o||0===a.length)return;const r=e.querySelector(".wbcom-essential-posts-ticker__prev"),i=e.querySelector(".wbcom-essential-posts-ticker__next"),c=e.querySelector(".wbcom-essential-posts-ticker__pause");let y=!1,p=!1,d=0,u=null,f=0;if("horizontal"===t||"marquee"===t){const e=o.cloneNode(!0);e.classList.add("wbcom-essential-posts-ticker__list--clone"),n.appendChild(e)}const m={horizontal:()=>{const e=o.offsetWidth,t=()=>{y||(f-=1,Math.abs(f)>=e&&(f=0),n.style.transform=`translateX(${f}px)`),u=requestAnimationFrame(t)};u||t()},marquee:()=>{const e=o.offsetWidth,t=(200-s)/100,l=()=>{y||(f-=t,Math.abs(f)>=e&&(f=0),n.style.transform=`translateX(${f}px)`),u=requestAnimationFrame(l)};l()},vertical:()=>{const t=a[0].offsetHeight;let l;l=setInterval(()=>{y||(d=(d+1)%a.length,o.style.transform=`translateY(-${d*t}px)`)},50*s),e.verticalInterval=l},typewriter:()=>{let t,l;a.forEach(e=>{e.style.opacity="0",e.style.display="none"});const n=()=>{if(y)return;const e=a[d],o=e.querySelector(".wbcom-essential-posts-ticker__link");if(!o)return;const r=o.dataset.fullText||o.textContent;o.dataset.fullText||(o.dataset.fullText=r);let i=0;e.style.opacity="1",e.style.display="flex",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.right="0",t=setInterval(()=>{y||(i++,o.textContent=r.substring(0,i),i>=r.length&&(clearInterval(t),l=setTimeout(()=>{e.style.opacity="0",e.style.display="none",d=(d+1)%a.length,n()},40*s)))},s)};o.style.position="relative",n(),e.typewriterInterval=t,e.typewriterTimeout=l}};r&&r.addEventListener("click",()=>{if("vertical"===t){d=(d-1+a.length)%a.length;const e=a[0].offsetHeight;o.style.transform=`translateY(-${d*e}px)`}else if("typewriter"===t){a[d].style.opacity="0",a[d].style.display="none",d=(d-1+a.length)%a.length;const e=a[d],t=e.querySelector(".wbcom-essential-posts-ticker__link");t&&t.dataset.fullText&&(t.textContent=t.dataset.fullText),e.style.opacity="1",e.style.display="flex"}}),i&&i.addEventListener("click",()=>{if("vertical"===t){d=(d+1)%a.length;const e=a[0].offsetHeight;o.style.transform=`translateY(-${d*e}px)`}else if("typewriter"===t){a[d].style.opacity="0",a[d].style.display="none",d=(d+1)%a.length;const e=a[d],t=e.querySelector(".wbcom-essential-posts-ticker__link");t&&t.dataset.fullText&&(t.textContent=t.dataset.fullText),e.style.opacity="1",e.style.display="flex"}}),c&&c.addEventListener("click",()=>{p=!p,y=p;const e=c?.querySelector(".pause-icon"),t=c?.querySelector(".play-icon");e&&t&&(e.style.display=p?"none":"block",t.style.display=p?"block":"none")}),l&&(e.addEventListener("mouseenter",()=>{p||(y=!0)}),e.addEventListener("mouseleave",()=>{p||(y=!1)})),m[t]&&m[t]()})});