document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".wp-block-wbcom-essential-accordion");function t(e,t){const o=e.querySelector(".accordion-content");e.classList.remove("is-open"),o.style.transition=`all ${t.closeSpeed}ms ease`,o.style.opacity="0",o.style.maxHeight="0",setTimeout(function(){o.style.visibility="hidden"},t.closeSpeed)}e.forEach(function(e){const o=e.querySelectorAll(".accordion-item"),s={openSingle:"true"===e.dataset.opensingle,selfClose:"true"===e.dataset.selfclose,autoScroll:"true"===e.dataset.autoscroll,scrollOffset:parseInt(e.dataset.scrolloffset)||0,scrollSpeed:parseInt(e.dataset.scrollspeed)||400,openSpeed:parseInt(e.dataset.openspeed)||200,closeSpeed:parseInt(e.dataset.closespeed)||200};o.forEach(function(e){const t=e.querySelector(".accordion-content"),o=e.classList.contains("is-open")?s.openSpeed:s.closeSpeed;t.style.transition=`all ${o}ms ease`,e.classList.contains("is-open")?(t.style.maxHeight=t.scrollHeight+"px",t.style.opacity="1",t.style.visibility="visible"):(t.style.maxHeight="0",t.style.opacity="0",t.style.visibility="hidden")}),o.forEach(function(e){const n=e.querySelector(".accordion-header"),c=e.querySelector(".accordion-content");n&&c&&n.addEventListener("click",function(n){n.preventDefault();const c=e.classList.contains("is-open");s.openSingle&&o.forEach(function(o){o!==e&&o.classList.contains("is-open")&&t(o,s)}),c?t(e,s):(function(e,t){const o=e.querySelector(".accordion-content");e.classList.add("is-open"),o.style.transition=`all ${t.openSpeed}ms ease`,o.style.visibility="visible",o.style.opacity="1",o.style.maxHeight=o.scrollHeight+40+"px"}(e,s),s.autoScroll&&setTimeout(function(){const t=s.scrollOffset,o=e.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:o,behavior:"smooth"})},s.openSpeed))})})}),document.addEventListener("click",function(o){e.forEach(function(e){if("true"===e.dataset.selfclose&&!e.contains(o.target)){const o=e.querySelectorAll(".accordion-item.is-open"),s={closeSpeed:parseInt(e.dataset.closespeed)||200};o.forEach(function(e){t(e,s)})}})})});