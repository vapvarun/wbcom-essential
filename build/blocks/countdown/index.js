(()=>{"use strict";var e,o={552:()=>{const e=window.wp.blocks,o=window.wp.i18n,s=window.wp.blockEditor,n=window.wp.components,l=window.wp.element,a=window.wp.date,t=window.ReactJSXRuntime,i=JSON.parse('{"UU":"wbcom-essential/countdown"}');(0,e.registerBlockType)(i.UU,{edit:function({attributes:e,setAttributes:i}){const{dueDate:c,showDays:r,showHours:d,showMinutes:b,showSeconds:m,daysLabel:u,hoursLabel:w,minutesLabel:h,secondsLabel:x,expiryMessage:_,contentLayout:g,boxAlign:v,boxBackground:p,boxBorderRadius:C,boxPadding:j,boxGap:y,digitColor:f,digitFontSize:S,labelColor:N,labelFontSize:k,messageColor:D,messageFontSize:L}=e,[B,M]=(0,l.useState)(!1),[T,P]=(0,l.useState)({days:0,hours:0,minutes:0,seconds:0});(0,l.useEffect)(()=>{if(!c)return;const e=()=>{const e=(new Date).getTime(),o=new Date(c).getTime()-e;if(o<=0)return void P({days:0,hours:0,minutes:0,seconds:0});const s=Math.floor(o/864e5),n=Math.floor(o%864e5/36e5),l=Math.floor(o%36e5/6e4),a=Math.floor(o%6e4/1e3);P({days:s,hours:n,minutes:l,seconds:a})};e();const o=setInterval(e,1e3);return()=>clearInterval(o)},[c]),(0,l.useEffect)(()=>{if(!c){const e=new Date;e.setMonth(e.getMonth()+1),i({dueDate:(0,a.format)("Y-m-d H:i",e)})}},[]);const O=(0,s.useBlockProps)({className:"wbcom-essential-countdown"}),z={justifyContent:v,gap:`${y}px`},R={backgroundColor:p||void 0,borderRadius:C?`${C}px`:void 0,padding:j?`${j.top} ${j.right} ${j.bottom} ${j.left}`:void 0},F={color:f||void 0,fontSize:S?`${S}px`:void 0},H={color:N||void 0,fontSize:k?`${k}px`:void 0},$=e=>e.toString().padStart(2,"0");return(0,a.__experimentalGetSettings)().formats.date,(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.InspectorControls,{children:[(0,t.jsxs)(n.PanelBody,{title:(0,o.__)("Countdown Settings","wbcom-essential"),children:[(0,t.jsxs)("div",{className:"components-base-control",children:[(0,t.jsx)("label",{className:"components-base-control__label",children:(0,o.__)("Due Date","wbcom-essential")}),(0,t.jsx)(n.Button,{variant:"secondary",onClick:()=>M(!B),style:{width:"100%",justifyContent:"flex-start"},children:c||(0,o.__)("Select Date","wbcom-essential")}),B&&(0,t.jsx)(n.Popover,{position:"bottom center",onClose:()=>M(!1),children:(0,t.jsx)("div",{style:{padding:"16px"},children:(0,t.jsx)(n.DateTimePicker,{currentDate:c?new Date(c):new Date,onChange:e=>{i({dueDate:(0,a.format)("Y-m-d H:i",e)})},is12Hour:!0})})})]}),(0,t.jsx)(n.ToggleControl,{label:(0,o.__)("Show Days","wbcom-essential"),checked:r,onChange:e=>i({showDays:e})}),r&&(0,t.jsx)(n.TextControl,{label:(0,o.__)("Days Label","wbcom-essential"),value:u,onChange:e=>i({daysLabel:e})}),(0,t.jsx)(n.ToggleControl,{label:(0,o.__)("Show Hours","wbcom-essential"),checked:d,onChange:e=>i({showHours:e})}),d&&(0,t.jsx)(n.TextControl,{label:(0,o.__)("Hours Label","wbcom-essential"),value:w,onChange:e=>i({hoursLabel:e})}),(0,t.jsx)(n.ToggleControl,{label:(0,o.__)("Show Minutes","wbcom-essential"),checked:b,onChange:e=>i({showMinutes:e})}),b&&(0,t.jsx)(n.TextControl,{label:(0,o.__)("Minutes Label","wbcom-essential"),value:h,onChange:e=>i({minutesLabel:e})}),(0,t.jsx)(n.ToggleControl,{label:(0,o.__)("Show Seconds","wbcom-essential"),checked:m,onChange:e=>i({showSeconds:e})}),m&&(0,t.jsx)(n.TextControl,{label:(0,o.__)("Seconds Label","wbcom-essential"),value:x,onChange:e=>i({secondsLabel:e})}),(0,t.jsx)(n.TextControl,{label:(0,o.__)("Message After Expiry","wbcom-essential"),value:_,onChange:e=>i({expiryMessage:e}),help:(0,o.__)("Message to display when countdown expires","wbcom-essential")})]}),(0,t.jsxs)(n.PanelBody,{title:(0,o.__)("Layout","wbcom-essential"),initialOpen:!1,children:[(0,t.jsx)(n.SelectControl,{label:(0,o.__)("Content Layout","wbcom-essential"),value:g,options:[{label:(0,o.__)("Vertical","wbcom-essential"),value:"v-layout"},{label:(0,o.__)("Vertical Reverse","wbcom-essential"),value:"v-layout-reverse"},{label:(0,o.__)("Horizontal","wbcom-essential"),value:"h-layout"},{label:(0,o.__)("Horizontal Reverse","wbcom-essential"),value:"h-layout-reverse"}],onChange:e=>i({contentLayout:e})}),(0,t.jsx)(n.SelectControl,{label:(0,o.__)("Box Alignment","wbcom-essential"),value:v,options:[{label:(0,o.__)("Start","wbcom-essential"),value:"flex-start"},{label:(0,o.__)("Center","wbcom-essential"),value:"center"},{label:(0,o.__)("End","wbcom-essential"),value:"flex-end"}],onChange:e=>i({boxAlign:e})}),(0,t.jsx)(n.RangeControl,{label:(0,o.__)("Box Gap","wbcom-essential"),value:y,onChange:e=>i({boxGap:e}),min:0,max:100})]}),(0,t.jsxs)(n.PanelBody,{title:(0,o.__)("Box Style","wbcom-essential"),initialOpen:!1,children:[(0,t.jsxs)("div",{className:"components-base-control",children:[(0,t.jsx)("label",{className:"components-base-control__label",children:(0,o.__)("Background Color","wbcom-essential")}),(0,t.jsx)(n.ColorPalette,{value:p,onChange:e=>i({boxBackground:e})})]}),(0,t.jsx)(n.RangeControl,{label:(0,o.__)("Border Radius","wbcom-essential"),value:C,onChange:e=>i({boxBorderRadius:e}),min:0,max:100}),(0,t.jsx)(n.__experimentalBoxControl,{label:(0,o.__)("Padding","wbcom-essential"),values:j,onChange:e=>i({boxPadding:e})})]}),(0,t.jsxs)(n.PanelBody,{title:(0,o.__)("Typography","wbcom-essential"),initialOpen:!1,children:[(0,t.jsxs)("div",{className:"components-base-control",children:[(0,t.jsx)("label",{className:"components-base-control__label",children:(0,o.__)("Digit Color","wbcom-essential")}),(0,t.jsx)(n.ColorPalette,{value:f,onChange:e=>i({digitColor:e})})]}),(0,t.jsx)(n.RangeControl,{label:(0,o.__)("Digit Font Size","wbcom-essential"),value:S,onChange:e=>i({digitFontSize:e}),min:12,max:200}),(0,t.jsxs)("div",{className:"components-base-control",children:[(0,t.jsx)("label",{className:"components-base-control__label",children:(0,o.__)("Label Color","wbcom-essential")}),(0,t.jsx)(n.ColorPalette,{value:N,onChange:e=>i({labelColor:e})})]}),(0,t.jsx)(n.RangeControl,{label:(0,o.__)("Label Font Size","wbcom-essential"),value:k,onChange:e=>i({labelFontSize:e}),min:8,max:100}),(0,t.jsxs)("div",{className:"components-base-control",children:[(0,t.jsx)("label",{className:"components-base-control__label",children:(0,o.__)("Message Color","wbcom-essential")}),(0,t.jsx)(n.ColorPalette,{value:D,onChange:e=>i({messageColor:e})})]}),(0,t.jsx)(n.RangeControl,{label:(0,o.__)("Message Font Size","wbcom-essential"),value:L,onChange:e=>i({messageFontSize:e}),min:12,max:100})]})]}),(0,t.jsx)("div",{...O,children:(0,t.jsxs)("div",{className:`wbcom-countdown ${g}`,style:z,children:[r&&(0,t.jsxs)("div",{className:"wbcom-countdown-days",style:R,children:[(0,t.jsx)("span",{className:"wbcom-countdown-value",style:F,children:$(T.days)}),(0,t.jsx)("span",{className:"wbcom-countdown-label",style:H,children:u})]}),d&&(0,t.jsxs)("div",{className:"wbcom-countdown-hours",style:R,children:[(0,t.jsx)("span",{className:"wbcom-countdown-value",style:F,children:$(T.hours)}),(0,t.jsx)("span",{className:"wbcom-countdown-label",style:H,children:w})]}),b&&(0,t.jsxs)("div",{className:"wbcom-countdown-minutes",style:R,children:[(0,t.jsx)("span",{className:"wbcom-countdown-value",style:F,children:$(T.minutes)}),(0,t.jsx)("span",{className:"wbcom-countdown-label",style:H,children:h})]}),m&&(0,t.jsxs)("div",{className:"wbcom-countdown-seconds",style:R,children:[(0,t.jsx)("span",{className:"wbcom-countdown-value",style:F,children:$(T.seconds)}),(0,t.jsx)("span",{className:"wbcom-countdown-label",style:H,children:x})]})]})})]})},save:function(){return null}})}},s={};function n(e){var l=s[e];if(void 0!==l)return l.exports;var a=s[e]={exports:{}};return o[e](a,a.exports,n),a.exports}n.m=o,e=[],n.O=(o,s,l,a)=>{if(!s){var t=1/0;for(d=0;d<e.length;d++){for(var[s,l,a]=e[d],i=!0,c=0;c<s.length;c++)(!1&a||t>=a)&&Object.keys(n.O).every(e=>n.O[e](s[c]))?s.splice(c--,1):(i=!1,a<t&&(t=a));if(i){e.splice(d--,1);var r=l();void 0!==r&&(o=r)}}return o}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[s,l,a]},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};n.O.j=o=>0===e[o];var o=(o,s)=>{var l,a,[t,i,c]=s,r=0;if(t.some(o=>0!==e[o])){for(l in i)n.o(i,l)&&(n.m[l]=i[l]);if(c)var d=c(n)}for(o&&o(s);r<t.length;r++)a=t[r],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},s=globalThis.webpackChunkwbcom_essential_countdown=globalThis.webpackChunkwbcom_essential_countdown||[];s.forEach(o.bind(null,0)),s.push=o.bind(null,s.push.bind(s))})();var l=n.O(void 0,[350],()=>n(552));l=n.O(l)})();