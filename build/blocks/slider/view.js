document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".wp-block-wbcom-essential-slider").forEach(function(e){const t=e.querySelector(".wbcom-slider-inner"),n=e.querySelectorAll(".wbcom-slider-slide"),a=e.querySelector(".wbcom-slider-prev"),s=e.querySelector(".wbcom-slider-next"),i=e.querySelectorAll(".wbcom-slider-dot");if(!n.length)return;let r=0,o=null,l=!1;const c=e.dataset.transition||"slide",d=parseInt(e.dataset.transitionDuration)||300,u="true"===e.dataset.keyboardNav,f="true"===e.dataset.pauseOnHover,v="true"===e.dataset.infiniteLoop;function g(e,o=!0){if(!l&&(v?(e<0&&(e=n.length-1),e>=n.length&&(e=0)):(e<0&&(e=0),e>=n.length&&(e=n.length-1)),e!==r||!o)){if(o&&(l=!0,setTimeout(()=>{l=!1},d)),r=e,"fade"===c)n.forEach((t,n)=>{t.classList.toggle("active",n===e)});else{const n=100*-e;t.style.transform=`translateX(${n}%)`}i.forEach((t,n)=>{t.classList.toggle("active",n===e)}),v||(a&&(a.classList.toggle("disabled",0===e),a.disabled=0===e),s&&(s.classList.toggle("disabled",e===n.length-1),s.disabled=e===n.length-1))}}function h(){!v&&r>=n.length-1||g(r+1)}function y(){!v&&r<=0||g(r-1)}function b(e){g(e)}function p(e){o&&clearInterval(o),o=setInterval(h,1e3*e)}function L(){o&&(clearInterval(o),o=null)}a&&a.addEventListener("click",function(){y(),L()}),s&&s.addEventListener("click",function(){h(),L()}),i.forEach((e,t)=>{e.addEventListener("click",function(){b(t),L()})}),f&&(e.addEventListener("mouseenter",L),e.addEventListener("mouseleave",function(){const t="true"===e.dataset.autoplay,n=parseInt(e.dataset.autoplayDuration)||5;t&&p(n)}));let m=0,E=0;e.addEventListener("touchstart",function(e){m=e.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",function(e){E=e.changedTouches[0].screenX,function(){const e=m-E;Math.abs(e)>50&&(e>0?h():y(),L())}()},{passive:!0}),function(){e.style.setProperty("--slider-transition-duration",d+"ms"),"fade"===c?t.classList.add("fade-transition"):t.classList.add("slide-transition"),g(r,!1);const a="true"===e.dataset.autoplay,s=parseInt(e.dataset.autoplayDuration)||5;a&&p(s),u&&(e.setAttribute("tabindex","0"),e.setAttribute("role","region"),e.setAttribute("aria-label","Image slider"),e.addEventListener("keydown",function(e){"ArrowLeft"===e.key?(e.preventDefault(),y(),L()):"ArrowRight"===e.key?(e.preventDefault(),h(),L()):"Home"===e.key?(e.preventDefault(),b(0),L()):"End"===e.key&&(e.preventDefault(),b(n.length-1),L())}))}()})});