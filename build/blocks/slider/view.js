document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".wp-block-wbcom-essential-slider").forEach(function(e){const t=e.querySelector(".wbcom-slider-inner"),n=e.querySelectorAll(".wbcom-slider-slide"),a=e.querySelector(".wbcom-slider-prev"),s=e.querySelector(".wbcom-slider-next"),o=e.querySelectorAll(".wbcom-slider-dot");if(!n.length)return;let i=0,r=null,l=!1;const c=e.dataset.transition||"slide",d=parseInt(e.dataset.transitionDuration)||300,u="true"===e.dataset.keyboardNav,f="true"===e.dataset.pauseOnHover,g="true"===e.dataset.infiniteLoop,p="true"===e.dataset.parallax,v=parseFloat(e.dataset.parallaxSpeed)||.5;function h(e,r=!0){if(!l&&(g?(e<0&&(e=n.length-1),e>=n.length&&(e=0)):(e<0&&(e=0),e>=n.length&&(e=n.length-1)),e!==i||!r)){if(r&&(l=!0,setTimeout(()=>{l=!1},d)),i=e,"fade"===c)n.forEach((t,n)=>{t.classList.toggle("active",n===e)});else{const n=100*-e;t.style.transform=`translateX(${n}%)`}o.forEach((t,n)=>{t.classList.toggle("active",n===e)}),g||(a&&(a.classList.toggle("disabled",0===e),a.disabled=0===e),s&&(s.classList.toggle("disabled",e===n.length-1),s.disabled=e===n.length-1))}}function b(){!g&&i>=n.length-1||h(i+1)}function y(){!g&&i<=0||h(i-1)}function m(e){h(e)}function L(e){r&&clearInterval(r),r=setInterval(b,1e3*e)}function w(){r&&(clearInterval(r),r=null)}a&&a.addEventListener("click",function(){y(),w()}),s&&s.addEventListener("click",function(){b(),w()}),o.forEach((e,t)=>{e.addEventListener("click",function(){m(t),w()})}),f&&(e.addEventListener("mouseenter",w),e.addEventListener("mouseleave",function(){const t="true"===e.dataset.autoplay,n=parseInt(e.dataset.autoplayDuration)||5;t&&L(n)}));let E=0,k=0;e.addEventListener("touchstart",function(e){E=e.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",function(e){k=e.changedTouches[0].screenX,function(){const e=E-k;Math.abs(e)>50&&(e>0?b():y(),w())}()},{passive:!0}),function(){e.style.setProperty("--slider-transition-duration",d+"ms"),"fade"===c?t.classList.add("fade-transition"):t.classList.add("slide-transition"),h(i,!1);const a="true"===e.dataset.autoplay,s=parseInt(e.dataset.autoplayDuration)||5;a&&L(s),p&&function(){const t=e.querySelectorAll(".wbcom-slider-bg");function n(){const n=e.getBoundingClientRect(),a=window.innerHeight;if(n.bottom<0||n.top>a)return;const s=100*((a-n.top)/(a+n.height)-.5)*v;t.forEach(e=>{e.style.transform=`translateY(${s}px)`})}let a=!1;window.addEventListener("scroll",function(){a||(window.requestAnimationFrame(function(){n(),a=!1}),a=!0)},{passive:!0}),n()}(),u&&(e.setAttribute("tabindex","0"),e.setAttribute("role","region"),e.setAttribute("aria-label","Image slider"),e.addEventListener("keydown",function(e){"ArrowLeft"===e.key?(e.preventDefault(),y(),w()):"ArrowRight"===e.key?(e.preventDefault(),b(),w()):"Home"===e.key?(e.preventDefault(),m(0),w()):"End"===e.key&&(e.preventDefault(),m(n.length-1),w())}))}()})});